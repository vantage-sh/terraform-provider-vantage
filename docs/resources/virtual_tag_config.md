---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "vantage_virtual_tag_config Resource - terraform-provider-vantage"
subcategory: ""
description: |-
  
---

# vantage_virtual_tag_config (Resource)



## Example Usage

```terraform
data "vantage_virtual_tag_configs" "demo" {}
resource "vantage_virtual_tag_config" "demo_virtual_tag_config" {
  key            = "Demo Tag"
  backfill_until = "2024-01-01"
  overridable    = true
  values = [
    {
      name   = "Demo Value 0"
      filter = "(costs.provider = 'aws' AND costs.region = 'us-east-1') OR (costs.provider = 'gcp' AND costs.region = 'us-central1')"
    },
    {
      filter = "(costs.provider = 'aws' AND costs.service = 'AwsApiGateway')"
      cost_metric = {
        aggregation = {
          tag = "environment"
        }
        filter = "(costs.provider = 'aws' AND costs.service = 'AmazonECS')"
      }
    },
    # {
    #   filter = "(costs.provider = 'aws' AND costs.service = 'AmazonECS')"
    #   business_metric_token = ""
    # }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `key` (String) The key of the VirtualTagConfig.
- `overridable` (Boolean) Whether the VirtualTagConfig can override a provider-supplied tag on a matching Cost.

### Optional

- `backfill_until` (String) The earliest month the VirtualTagConfig should be backfilled to.
- `collapsed_tag_keys` (Attributes List) Tag keys to collapse values for. (see [below for nested schema](#nestedatt--collapsed_tag_keys))
- `values` (Attributes List) Values for the VirtualTagConfig, with match precedence determined by order in the list. (see [below for nested schema](#nestedatt--values))

### Read-Only

- `created_by_token` (String) The token of the Creator of the VirtualTagConfig.
- `id` (String) The id of the VirtualTagConfig.
- `token` (String) The token of the VirtualTagConfig.

<a id="nestedatt--collapsed_tag_keys"></a>
### Nested Schema for `collapsed_tag_keys`

Required:

- `key` (String) The tag key to collapse values for.

Optional:

- `providers` (List of String) The providers this collapsed tag key applies to. Defaults to all providers.


<a id="nestedatt--values"></a>
### Nested Schema for `values`

Required:

- `filter` (String) The filter query language to apply to the value. Additional documentation available at https://docs.vantage.sh/vql.

Optional:

- `business_metric_token` (String) The token of an associated business metric.
- `cost_metric` (Attributes) (see [below for nested schema](#nestedatt--values--cost_metric))
- `name` (String) The name of the value.
- `percentages` (Attributes List) Labeled percentage allocations for matching costs. (see [below for nested schema](#nestedatt--values--percentages))

<a id="nestedatt--values--cost_metric"></a>
### Nested Schema for `values.cost_metric`

Optional:

- `aggregation` (Attributes) (see [below for nested schema](#nestedatt--values--cost_metric--aggregation))
- `filter` (String) The filter VQL for the cost metric.

<a id="nestedatt--values--cost_metric--aggregation"></a>
### Nested Schema for `values.cost_metric.aggregation`

Optional:

- `tag` (String) The tag to aggregate on.



<a id="nestedatt--values--percentages"></a>
### Nested Schema for `values.percentages`

Required:

- `pct` (Number)
- `value` (String) The tag value associated with a percentage of matched costs.


